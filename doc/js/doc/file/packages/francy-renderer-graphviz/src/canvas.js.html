<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">packages/francy-renderer-graphviz/src/canvas.js | francy-js</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Francy - An Interactive Discrete Mathematics Framework for GAP"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="francy-js"><meta property="twitter:description" content="Francy - An Interactive Discrete Mathematics Framework for GAP"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/gap-packages/francy.git"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-core-src-component">francy-core/src/component</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/component/base.js~BaseComponent.html">BaseComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/component/d3.js~D3Component.html">D3Component</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/component/jupyter.js~JupyterComponent.html">JupyterComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/component/mathjax.js~MathJaxComponent.html">MathJaxComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-Options">Options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-Options">Options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Components">Components</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-Options">Options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-Options">Options</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-core-src-decorator">francy-core/src/decorator</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/decorator/data.js~DataDecorator.html">DataDecorator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/decorator/error.js~ErrorDecorator.html">ErrorDecorator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/decorator/highlight.js~HighlightDecorator.html">HighlightDecorator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/decorator/initialize.js~InitializerDecorator.html">InitializerDecorator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/decorator/jupyter.js~JupyterDecorator.html">JupyterDecorator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/decorator/loader.js~LoaderDecorator.html">LoaderDecorator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Decorators">Decorators</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-core-src-render">francy-core/src/render</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/base.js~BaseRenderer.html">BaseRenderer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/callback.js~CallbackHandler.html">CallbackHandler</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/composite.js~Composite.html">Composite</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/mathjax-wrapper.js~MathJaxWrapper.html">MathJaxWrapper</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/renderer.js~Renderer.html">Renderer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/rendering-configuration.js~RenderingConfiguration.html">RenderingConfiguration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/rendering-manager.js~RenderingManagerHandler.html">RenderingManagerHandler</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/tooltip.js~Tooltip.html">Tooltip</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RENDERING_EVENTS">RENDERING_EVENTS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Options">Options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-configuration">configuration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-core-src-render-graph">francy-core/src/render/graph</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/graph/base.js~Graph.html">Graph</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/graph/operations.js~GraphOperations.html">GraphOperations</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-core-src-render-menu">francy-core/src/render/menu</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/menu/base.js~Menu.html">Menu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/menu/context.js~ContextMenu.html">ContextMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-core-src-render-modal">francy-core/src/render/modal</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/modal/about.js~AboutModal.html">AboutModal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/modal/base.js~Modal.html">Modal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/modal/confirm.js~ConfirmModal.html">ConfirmModal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/render/modal/required.js~RequiredArgsModal.html">RequiredArgsModal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-options">options</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-core-src-util">francy-core/src/util</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/util/configuration.js~ConfigurationHandler.html">ConfigurationHandler</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/util/data-handler.js~DataHandler.html">DataHandler</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/util/exception.js~Exception.html">Exception</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/util/exception.js~RuntimeException.html">RuntimeException</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/util/json.js~JsonUtils.html">JsonUtils</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/util/logger.js~Log.html">Log</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-core/src/util/observable.js~Observable.html">Observable</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BACKEND">BACKEND</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DefaultConfiguration">DefaultConfiguration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-GlobalConfiguration">GlobalConfiguration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MIME">MIME</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Logger">Logger</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Utilities">Utilities</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-extension-jupyter-src">francy-extension-jupyter/src</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-extension-jupyter/src/lab_extension.js~OutputWidget.html">OutputWidget</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-init">init</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-register_renderer">register_renderer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-render_cells">render_cells</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-extension">extension</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-rendererFactory">rendererFactory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-APPEND_ID">APPEND_ID</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CLASS_NAME">CLASS_NAME</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MIME_TYPE">MIME_TYPE</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-d3">francy-renderer-d3</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-d3/index.js~D3Renderer.html">D3Renderer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RENDERER_NAME">RENDERER_NAME</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-d3-src">francy-renderer-d3/src</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-d3/src/canvas.js~Canvas.html">Canvas</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-d3-src-chart">francy-renderer-d3/src/chart</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-d3/src/chart/bar.js~BarChart.html">BarChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-d3/src/chart/chart.js~Chart.html">Chart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-d3/src/chart/factory.js~ChartFactory.html">ChartFactory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-d3/src/chart/line.js~LineChart.html">LineChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-d3/src/chart/scatter.js~ScatterChart.html">ScatterChart</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-d3-src-graph">francy-renderer-d3/src/graph</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-d3/src/graph/factory.js~Graph.html">Graph</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-d3/src/graph/generic.js~GenericGraph.html">GenericGraph</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-d3/src/graph/tree.js~TreeGraph.html">TreeGraph</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-graphviz">francy-renderer-graphviz</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-graphviz/index.js~GraphvizRenderer.html">GraphvizRenderer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RENDERER_NAME">RENDERER_NAME</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-graphviz-src">francy-renderer-graphviz/src</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-graphviz/src/canvas.js~Canvas.html">Canvas</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-graphviz-src-chart">francy-renderer-graphviz/src/chart</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-graphviz/src/chart/generic.js~ChartGeneric.html">ChartGeneric</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-graphviz-src-graph">francy-renderer-graphviz/src/graph</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-graphviz/src/graph/generic.js~GraphGeneric.html">GraphGeneric</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-graphviz-src-util">francy-renderer-graphviz/src/util</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-graphviz/src/util/dot-converter.js~DOTLanguageConverterHelper.html">DOTLanguageConverterHelper</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-vis">francy-renderer-vis</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-vis/index.js~VisRenderer.html">VisRenderer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RENDERER_NAME">RENDERER_NAME</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-vis-src">francy-renderer-vis/src</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-vis/src/canvas.js~Canvas.html">Canvas</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-vis-src-chart">francy-renderer-vis/src/chart</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-vis/src/chart/generic.js~ChartGeneric.html">ChartGeneric</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-renderer-vis-src-graph">francy-renderer-vis/src/graph</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy-renderer-vis/src/graph/generic.js~GraphGeneric.html">GraphGeneric</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-src">francy/src</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy/src/francy.js~FrancyApp.html">FrancyApp</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#instance-typedef-Options">Options</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#francy-src-render">francy/src/render</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy/src/render/frame.js~Frame.html">Frame</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy/src/render/menu-main.js~MainMenu.html">MainMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/packages/francy/src/render/message.js~Message.html">Message</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">packages/francy-renderer-graphviz/src/canvas.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import { CompositeRenderer, Decorators, Logger, RENDERING_EVENTS } from &apos;francy-core&apos;;
import ChartGeneric from &apos;./chart/generic&apos;;
import GraphGeneric from &apos;./graph/generic&apos;;

/* global d3 */

export default class Canvas extends CompositeRenderer {

  constructor({ appendTo, callbackHandler }, context) {
    super({ appendTo: appendTo, callbackHandler: callbackHandler }, context);
    this.graphFactory = new GraphGeneric(this.options, this.context);
    this.chartFactory = new ChartGeneric(this.options, this.context);
    this.graphvizEngines = [&apos;circo&apos;, &apos;dot&apos;, &apos;fdp&apos;, &apos;neato&apos;, &apos;osage&apos;, &apos;patchwork&apos;, &apos;twopi&apos;];
    this.graphvizRankdirs = { &apos;TB&apos;: &apos;Top to Bottom&apos;, &apos;LR&apos;: &apos;Left to Right&apos;, &apos;BT&apos;: &apos;Bottom to Top&apos;, &apos;RL&apos;: &apos;Right to Left&apos; };
    // this only adds if does not exist
    this.context.configuration.addProperty(&apos;graphvizEngine&apos;, &apos;dot&apos;);
    this.context.configuration.addProperty(&apos;graphvizRankdir&apos;, &apos;TB&apos;);
  }

  @Decorators.Data.requires(&apos;canvas&apos;)
  async render() {
    let self = this;

    const frameId = `Frame-${this.data.canvas.id}`;

    let svg = d3.select(`div#${frameId}&gt;svg`);
    if (!svg.node() || !svg.node().__data__) {
      d3.select(`div#${frameId}&gt;svg`).remove();
    }

    // graphviz creates the svg element, 
    // so we pick the frame instead
    this.element = d3.select(`div#${frameId}`);

    // cannot continue if canvas is not present
    if (!this.element.node()) {
      throw new Error(`Oops, could not create canvas within the Frame ID [${frameId}]... Cannot proceed.`);
    }

    function updateZoom(translateX, translateY, scale) {
      self.element.call(self.zoom.transform, d3.zoomIdentity.translate(translateX, translateY).scale(scale, scale));
    }

    function zoomToFit(force) {
      // only execute if enable, of course
      if (self.data.canvas.zoomToFit || force) {
        let bounds = self.element.select(&apos;g.francy-content&apos;).node().getBBox();

        let clientBounds = self.element.node().getBoundingClientRect(),
          fullWidth = clientBounds.right - clientBounds.left,
          fullHeight = clientBounds.bottom - clientBounds.top;

        let width = +bounds.width,
          height = +bounds.height;

        if (width === 0 || height === 0) return;

        let midX = bounds.x + width / 2,
          midY = bounds.y + height / 2;

        let scale = 0.9 / Math.max(width / fullWidth, height / fullHeight);
        let translateX = fullWidth / 2 - scale * midX,
          translateY = fullHeight / 2 - scale * midY;

        self.element.select(&apos;g.francy-content&apos;).transition().duration(self.transitionDuration)
          .attr(&apos;transform&apos;, `translate(${translateX},${translateY})scale(${scale},${scale})`)
          .on(&apos;end&apos;, () =&gt; updateZoom(translateX, translateY, scale));
      }
    }

    this.element.zoomToFit = this.zoomToFit = zoomToFit;

    Logger.debug(`(${this.context.instanceId}) Canvas updated [${frameId}]...`);

    this._buildMenu();

    this.removeChildren();
    this.addChild(this.graphFactory).addChild(this.chartFactory);
    this.handlePromise(this.renderChildren());

    return this;
  }

  _buildMenu() {
    var self = this;
    // here we have access to MainMenu
    this.graphvizEngines.forEach((engine) =&gt; {
      this.parentClass.MainMenu.addMultiMenuOnSettingsMenu({
        menuId: &apos;graphviz-engines-entry&apos;,
        menuTitle: &apos;Viz Engine&apos;,
        entryId: `graphviz-engine-${engine}-entry`,
        entryTitle: `${self.context.configuration.object.graphvizEngine === engine ? &apos;&amp;#9745&apos; : &apos;&amp;#9744&apos;} ${engine}`,
        entryOnClickCallback: function () {
          self.context.configuration.object.graphvizEngine = engine;
        },
        entryOnEachCallback: function () {
          let engineCheckId = `graphvizEngine-checkbox-${self.data.canvas.id}`;
          self.context.configuration.subscribe(&apos;graphvizEngine&apos;, function (value) {
            d3.select(this).html(`${value === engine ? &apos;&amp;#9745&apos; : &apos;&amp;#9744&apos;} ${engine}`);
          }, engineCheckId);
        }
      });
    });

    function reRender() {
      // remove previous rendered canvas
      self.element.select(&apos;g&apos;).selectAll(&apos;*&apos;).remove();
      // re-render
      setTimeout(() =&gt; {
        let Renderer = self.context.renderingManager.activeRenderer();
        self.options.appendTo.data = self.options.appendTo.canvas.data;
        self.options.appendTo.canvas = new Renderer(self.options, self.context);
        self.handlePromise(self.options.appendTo.render());
      }, 100);
    }

    // re-render when engine changes
    let engineRenderId = `graphvizEngine-reRender-${self.data.canvas.id}`;
    self.context.configuration.subscribe(&apos;graphvizEngine&apos;, reRender, engineRenderId);

    Object.keys(this.graphvizRankdirs).forEach((dir) =&gt; {
      this.parentClass.MainMenu.addMultiMenuOnSettingsMenu({
        menuId: &apos;graphviz-rankdir-entry&apos;,
        menuTitle: &apos;Viz Rankdir&apos;,
        entryId: `graphviz-rankdir-${dir}-entry`,
        entryTitle: `${self.context.configuration.object.graphvizRankdir === dir ? &apos;&amp;#9745&apos; : &apos;&amp;#9744&apos;} ${self.graphvizRankdirs[dir]}`,
        entryOnClickCallback: function () {
          self.context.configuration.object.graphvizRankdir = dir;
        },
        entryOnEachCallback: function () {
          let dirCheckId = `graphvizEngine-rankdir-${self.data.canvas.id}`;
          self.context.configuration.subscribe(&apos;graphvizRankdir&apos;, function (value) {
            d3.select(this).html(`${value === dir ? &apos;&amp;#9745&apos; : &apos;&amp;#9744&apos;} ${dir}`);
          }, dirCheckId);
        }
      });
    });

    // re-render when engine changes
    let dirRenderId = `graphvizRankdir-reRender-${self.data.canvas.id}`;
    self.context.configuration.subscribe(&apos;graphvizRankdir&apos;, reRender, dirRenderId);

    // remove menu if renderer is disabled
    let rendererDisableId = `graphvizEngine-disable-${self.data.canvas.id}`;
    self.context.renderingManager.subscribe(RENDERING_EVENTS.STATUS, function (r) {
      if (!r.enable) {
        self.parentClass.MainMenu.removeMenuEntry(&apos;graphviz-engines-entry&apos;);
        self.parentClass.MainMenu.removeMenuEntry(&apos;graphviz-rankdir-entry&apos;);
      }
    }, rendererDisableId);

    if (this.data.canvas.graph) {
      this.parentClass.MainMenu.addMultiMenuOnSettingsMenu({
        menuId: &apos;graph-settings-entry&apos;,
        menuTitle: &apos;Graph&apos;,
        entryId: &apos;neighbours-entry&apos;,
        entryTitle: `${self.context.configuration.object.showNeighbours ? &apos;&amp;#9745&apos; : &apos;&amp;#9744&apos;} Show Neighbours`,
        entryOnClickCallback: function () {
          self.context.configuration.object.showNeighbours = !self.context.configuration.object.showNeighbours;
        },
        entryOnEachCallback: function () {
          let showNeighboursId = `showNeighbours-onChange-${self.data.canvas.id}`;
          self.context.configuration.subscribe(&apos;showNeighbours&apos;, value =&gt; {
            d3.select(this).html(`${value ? &apos;&amp;#9745&apos; : &apos;&amp;#9744&apos;} Show Neighbours`);
          }, showNeighboursId);
        }
      });

      let removeMenuId = `graphSettings-removeMenu-${self.data.canvas.id}`;
      // remove menu if renderer is disabled
      self.context.renderingManager.subscribe(RENDERING_EVENTS.STATUS, r =&gt; {
        if (!r.enable) {
          this.parentClass.MainMenu.removeMenuEntry(&apos;graph-settings-entry&apos;);
        }
      }, removeMenuId);
    }

  }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
